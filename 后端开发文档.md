# 文件结构
atm-backend/

│

├── app.py              # 主程序，入口文件

├── models.py           # 数据模型定义

├── services.py         # 业务逻辑层

├── database.py         # 数据库连接和初始化

<<<<<<< HEAD

# 功能模块设计

## 1. 用户注册与登录

### 注册 (`/register`)
- **参数**: 
  - `card_number`（卡号）
  - `password`（密码）
  - `initial_deposit`（初始存款，可选）
- **逻辑**:
  1. 检查卡号是否已存在。
  2. 若卡号不存在，则创建新用户并存储哈希密码。

### 登录 (`/login`)
- **参数**:
  - `card_number`（卡号）
  - `password`（密码）
- **逻辑**:
  1. 使用 `ATMService.authenticate` 验证用户。
  2. 若验证成功，将 `user_id` 存入会话。

### 登出 (`/logout`)
- **逻辑**:
  - 清除会话中的 `user_id`。

---

## 2. 取款 (`/withdraw`)
- **参数**: 
  - `amount`（取款金额）
- **逻辑**:
  1. 检查金额是否合法且账户余额是否充足。
  2. 扣减余额并记录交易。

---

## 3. 存款 (`/deposit`)
- **参数**: 
  - `amount`（存款金额）
- **逻辑**:
  1. 检查金额是否合法。
  2. 增加余额并记录交易。
=======
# 更新日志
11/18：使用flask进行初步搭建，未经测试。
>>>>>>> 8c3dd59e3f0dda1ebc0671441322a17573f155ec
